<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Impresión de ticket</title>
</head>
<body>
  <button onclick="imprimir()">Imprimir Ticket</button>

  <!-- Contenedor oculto para cargar el contenido de plantilla.html -->
  <iframe id="iframeTicket" style="display:none;"></iframe>

  <script>
    async function imprimir() {
      try {
        // Obtener el elemento iframe
        const iframe = document.getElementById('iframeTicket');

        // Cargar el contenido de la página "plantilla.html" en el iframe
        iframe.src = 'plantilla.html';

        // Esperar a que el contenido se cargue completamente en el iframe
        await new Promise(resolve => {
          iframe.onload = resolve;
        });

        // Imprimir el contenido del iframe
        iframe.contentWindow.print();

        alert("Ticket impreso correctamente.");
      } catch (error) {
        console.error("Error al imprimir el ticket:", error);
        alert("Hubo un error al imprimir el ticket. Por favor, revisa la consola para más detalles.");
      }
    }
  </script>
</body>
</html>
